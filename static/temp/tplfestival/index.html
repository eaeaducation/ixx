<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>元宵节</title>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1.0'/>
<!--<link rel="stylesheet" href="/dist/css/swiper.min.css">
<link rel="stylesheet" href="/dist/css/animate.min.css">
<script src="/dist/js/swiper.min.js"></script>
<script src="/dist/js/swiper.animate.min.js"></script>-->

<link rel="stylesheet" href="css/swiper.min.css">
<link rel="stylesheet" href="css/animate.min.css">
<script src="../../extend_res/swiper/js/swiper-4.3.3.min.js"></script>
<script src="../../extend_res/swiper/js/swiper.animate1.0.3.min.js"></script>

<style>
*{
	margin:0;
	padding:0;
}
html,body{
	height:100%;
}
body{
	font-family:"microsoft yahei";
}
.swiper-container {
	width: 100%;
    height: 100%;
	background:#fff;
}  
.swiper-slide{
}
.swiper-slide{
	width:100%;
	height:100%;
	background-size:100% 100%;
}
img{
	display:block;
}
.swiper-pagination-bullet {
width: 6px;
height: 6px;
background: #fff;
opacity: .4;
}
.swiper-pagination-bullet-active {
opacity: 1;
}
@-webkit-keyframes tipmove{0%{bottom:10px;opacity:0}50%{bottom:15px;opacity:1}100%{bottom:20px;opacity:0}}
.ani{
	position:absolute;
	}
.txt{
	position:absolute;
}
#array{
	position:absolute;z-index:999;-webkit-animation: tipmove 1.5s infinite ease-in-out;
}
.vintage1{
    background: #EEE url(data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAIAAAAmkwkpAAAAHklEQVQImWNkYGBgYGD4//8/A5wF5SBYyAr+//8PAPOCFO0Q2zq7AAAAAElFTkSuQmCC) repeat;
    text-shadow: 5px -5px black, 4px -4px white;
    font-weight: bold;
    -webkit-text-fill-color: transparent;
    -webkit-background-clip: text }
</style>
</head>

<body>
<div class="swiper-container">
    <div class="swiper-wrapper">
    <!-------------slide1----------------->
        <section class="swiper-slide" id="slider1">
            <div class="ani resize" style="width:120px;height:110px;left:110px;top:184px;z-index:3;"  swiper-animate-effect="fadeIn" swiper-animate-duration="0.5s" swiper-animate-delay="1.5s">
                <div class="txt">
                    <p id="content" style="width:100%;color:#b60927; font-size:96%; line-height:1.3;margin-top: 10%"></p>
                </div>
            </div>
            <div class="ani resize" style="width:40px;height:110px;left:260px;top:185px;z-index:3;color:#b60927; font-size:160%; font-weight:bold;" swiper-animate-effect="bounceIn" swiper-animate-duration="0.5s" swiper-animate-delay="1s"  >
                <div class="txt" id="title" style="margin-top: 10%"></div>
            </div>
        <img src="./images/flower.png" class="ani resize" style="width:180px;height:220px;left:0;top:0;z-index:2;" swiper-animate-effect="fadeInLeft" swiper-animate-duration="0.5s" swiper-animate-delay="0s"   >
        <img src="./images/s1.png"  class="ani resize" style="width:320px;height:200px;left:0px;top:140px;z-index:1;" swiper-animate-effect="fadeIn" swiper-animate-duration="0.5s" swiper-animate-delay="0.5s"  >
        
        </section>
     <!---------------slide2-------------->
        <section class="swiper-slide" id="slider2">

            <img id="bottompic2" class="ani resize" style="width:263px;height:177px;left:31px;top:262px;z-index:5; border-radius:20px;" swiper-animate-effect="fadeInLeft" swiper-animate-duration="0.5s" swiper-animate-delay="2s">
            <div id="content2" class="ani" style="width:65%; font-size:16px; line-height:1.4;margin-top: 10%;margin-left: 10%;" swiper-animate-effect="fadeInRight" swiper-animate-duration="0.5s" swiper-animate-delay="1.3s">
            </div>
            <div class="txt">
                <p id="title1" style="width:45%; font-size:40px; line-height:1.6;margin-top: 45%;margin-left: 215%;" class="vintage1"></p>
            </div>
        </section>
     <!----------------slide3-------------->
        <section class="swiper-slide" id="slider3">
        
        <img id="bottompic3" class="ani resize" style="width:263px;height:177px;left:31px;top:262px;z-index:5; border-radius:20px;" swiper-animate-effect="fadeInLeft" swiper-animate-duration="0.5s" swiper-animate-delay="2s">
            <div id="content3" class="ani" style="width:65%; font-size:16px; line-height:1.4;margin-top: 10%;margin-left: 10%;" swiper-animate-effect="fadeInRight" swiper-animate-duration="0.5s" swiper-animate-delay="1.3s">
            </div>
        <div class="txt">
            <p id="title2" style="width:45%; font-size:40px; line-height:1.6;margin-top: 45%;margin-left: 215%;" class="vintage1"></p>
        </div>
        </section>
        <!-------------slide4----------------->
        <section class="swiper-slide" id="slider4">

        <div class="ani resize" style="width:120px;height:110px;left:110px;top:184px;z-index:3;" swiper-animate-effect="fadeInLeft" swiper-animate-duration="0.5s" swiper-animate-delay="1s"  >
        <div class="txt" style="margin-top: 10%;">
        <p id="text1" style="width:15px; display:inline-block; font-size:90%; line-height:1; margin-right:10px;"></p>
        <p id="text2" style="width:15px; display:inline-block; font-size:90%; line-height:1; margin-right:10px;"></p>
        <p id="text3" style="width:15px; display:inline-block; font-size:90%; line-height:1; margin-right:10px;"></p>
        <p id="text4" style="width:15px; display:inline-block; font-size:90%; line-height:1; margin-right:10px;"></p></div>
        
        </div>
        <div class="ani resize" style="width:40px;height:110px;left:260px;top:185px;z-index:3;color:#b60927; font-size:160%; font-weight:bold;" swiper-animate-effect="fadeInRight" swiper-animate-duration="1s" swiper-animate-delay="1s"  >
        <div class="txt" id="title3"></div>
        </div>
        <img src="./images/flower.png" class="ani resize" style="width:180px;height:220px;left:0;top:0;z-index:2;" swiper-animate-effect="fadeInLeft" swiper-animate-duration="0.5s" swiper-animate-delay="0s"   >
        <img src="./images/s1.png"  class="ani resize" style="width:320px;height:200px;left:0px;top:140px;z-index:1;" swiper-animate-effect="fadeIn" swiper-animate-duration="0.5s" swiper-animate-delay="0.5s"  >
        </section>
        
        
        
    </div>
    
   <img src="images/web-swipe-tip.png" style="width:20px;height:15px; top:460px; left:150px;" id="array" class="resize"> 
  <div class="swiper-pagination"></div>  
</div>

<script src="../../extend_res/jquery/jquery-3.3.1.js"></script>
<script>
    $(function () {
        $.getJSON('./js/pagedata.json',function (data) {
            <!-------------slide1----------------->
            $("#slider1").css("background-image","url("+data.data[0].background.value+")");
            $("#title").text(data.data[0].title.value);
            $("#content").text(data.data[0].content.value);
            <!-------------slide2----------------->
            $("#slider2").css("background-image","url("+data.data[1].background.value+")");
            $("#title1").text(data.data[1].title.value);
            $("#bottompic2").attr('src',data.data[1].bottompic.value);
            $("#content2").text(data.data[1].content.value);
            <!-------------slide3----------------->
            $("#slider3").css("background-image","url("+data.data[2].background.value+")");
            $("#title2").text(data.data[2].title.value);
            $("#bottompic3").attr('src',data.data[2].bottompic.value);
            $("#content3").text(data.data[2].content.value);
            <!-------------slide4----------------->
            $("#slider4").css("background-image","url("+data.data[3].background.value+")");
            $("#title3").text(data.data[3].title.value);
            $("#text1").text(data.data[3].text1.value);
            $("#text2").text(data.data[3].text2.value);
            $("#text3").text(data.data[3].text3.value);
            $("#text4").text(data.data[3].text4.value);
        })
    })
</script>
<script>  

scaleW=window.innerWidth/320;
scaleH=window.innerHeight/480;
var resizes = document.querySelectorAll('.resize');
          for (var j=0; j<resizes.length; j++) {
           resizes[j].style.width=parseInt(resizes[j].style.width)*scaleW+'px';
		   resizes[j].style.height=parseInt(resizes[j].style.height)*scaleH+'px';
		   resizes[j].style.top=parseInt(resizes[j].style.top)*scaleH+'px';
		   resizes[j].style.left=parseInt(resizes[j].style.left)*scaleW+'px'; 
	
          }
var scales = document.querySelectorAll('.txt');
for (var i=0; i<scales.length; i++) {
	ss=scales[i].style;
	ss.webkitTransform = ss.MsTransform = ss.msTransform = ss.MozTransform = ss.OTransform =ss.transform='translateX('+scales[i].offsetWidth*(scaleW-1)/2+'px) translateY('+scales[i].offsetHeight*(scaleH-1)/2+'px)scaleX('+scaleW+') scaleY('+scaleH+') ';
}

		  
  var mySwiper = new Swiper ('.swiper-container', {
    direction : 'vertical',
    pagination: {
	   el:'.swiper-pagination',
    },
    mousewheel: true,
    on:{
	  init: function(){
        swiperAnimateCache(this);
        swiperAnimate(this);
 	  },
      slideChangeTransitionEnd: function(){
  	    swiperAnimate(this);
      }
    }
  })         
  </script>
</body>
</html>
